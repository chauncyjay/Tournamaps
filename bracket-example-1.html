---
---
<!DOCTYPE html>
<html lang="en">
{% include head.html %}
<body>
	{% include header.html %}
    {% include scripts.html %}
    <h3>Planeswalker Battle</h3>
    <div id="singlebracket">
        
          <script type="text/javascript">
              var saveData = {
                teams: [
                  ["Player 1", "Player 8"],
                  ["Player 4", "Player 5"],
                  ["Player 3", "Player 6"],
                  ["Player 2", "Player 7"]
                ],
                results: [
                    [
                      [[2, 0], [2, 1], [1, 2], [0, 2]],
                      [[2, 0], [1, 2]],
                      [[null, null], [null, null]]
                    ]
                ]
              };

              /* Called whenever bracket is modified
               *
               * data:     changed bracket object in format given to init
               * userData: optional data given when bracket is created.
               */
              function saveFn(data, userData) {
                var json = jQuery.toJSON(data)
                $('#saveOutput').text('POST '+userData+' '+json)
                /* You probably want to do something like this
                jQuery.ajax("rest/"+userData, {contentType: 'application/json',
                                              dataType: 'json',
                                              type: 'post',
                                              data: json})
                */
              }

              $(function() {
                  var container = $('div#singlebracket')
                  container.bracket({
                    init: saveData,
                    save: saveFn,
                    userData: "http://myapi"})

                  /* You can also inquiry the current data */
                  var data = container.bracket('data')
                  $('#dataOutput').text(jQuery.toJSON(data))
                })
          </script>
    </div>
    
	{% include footer.html %}
	
</body>
</html>